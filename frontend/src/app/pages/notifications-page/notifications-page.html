<section class="notifications">
  <div class="header">
    <h2>Notifications</h2>
    <button class="btn" (click)="readAll()" [disabled]="loading || notifications.length === 0">
      Mark all as read
    </button>
  </div>

  <div class="error" *ngIf="error">{{ error }}</div>
  <div class="muted" *ngIf="loading">Loading...</div>

  <div class="empty" *ngIf="!loading && notifications.length === 0">
    No notifications.
  </div>

  <div class="list" *ngIf="notifications.length > 0">
    <div class="item" *ngFor="let n of notifications" [class.unread]="n.is_read === 0">
      <div class="top">
        <div class="title">{{ n.title }}</div>
        <div class="time">{{ n.created_at }}</div>
      </div>

      <div class="message">{{ n.message }}</div>

      <div class="actions" *ngIf="n.is_read === 0">
        <button class="btn" (click)="markRead(n)">Mark as read</button>
      </div>
    </div>
  </div>
</section>
