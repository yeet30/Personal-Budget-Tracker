<section id="budget-section">
  <div class="budget-wrap">
    <div class="toolbar">
      <h1 *ngIf="budget(); else titleFallback">{{ budget()!.name }}</h1>
      <ng-template #titleFallback><h1>Budget</h1></ng-template>
    </div>

    <nav id="navigation">
      <ul>
        <li><a class="nav-button" 
          [class.active]="selectedCard() === 'overview'"
          (click)="setCard('overview')">Overview</a>
        </li>
        <li><a class="nav-button" 
          [class.active]="selectedCard() === 'transactions'" 
          (click)="setCard('transactions')">Transactions</a>
        </li>
        <li><a class="nav-button" 
          [class.active]="selectedCard() === 'members'" 
          (click)="setCard('members')">Members</a>
        </li>
        <li><a class="nav-button" 
          [class.active]="selectedCard() === 'graphs'" 
          (click)="setCard('graphs')">Graphs</a>
        </li>
      </ul>

      <span>
        <hr>
      </span>
    </nav>

    <div *ngIf="loading()" class="info">Loadingâ€¦</div>
    <div *ngIf="!loading() && error()" class="error">{{ error() }}</div>

    <div *ngIf="!loading() && budget()">
      <app-overview-card 
      *ngIf="selectedCard() === 'overview'" 
      [budget]="budget"/>
      <app-transactions-card 
      *ngIf="selectedCard() === 'transactions'"
      [budgetId]="budget()!.budget_id"
      [currency]="budget()!.currency"/>
      <app-members-card *ngIf="selectedCard() === 'members'"
      [budget]="budget"
      [members]="members()"
      [membersError]="membersError"
      [routeId]="routeId()"/>
      <app-graphs-card *ngIf="selectedCard() === 'graphs'"/>
    </div>
  </div>
</section>
